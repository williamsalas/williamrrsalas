<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>william salas | software dev</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="./favicon.ico" sizes="any" />
    <link rel="apple-touch-icon" href="./apple-touch-icon.png" />
    <link rel="mask-icon" href="./safari-pinned-tab.svg" color="#00ADB5" />
    <link rel="manifest" href="./site.webmanifest" />
    <meta name="theme-color" content="#222831" />
  </head>
  <body class="flex-container" style="justify-content: flex-start">
    <h2>hi, i'm william salas ðŸ‘‹</h2>
    <small>software developer from southern california</small>
    <small>
      part of Redfinâ€™s search team building the siteâ€™s most visited pages,
      search and home details
    </small>

    <img src="pikaconstruction.gif" class="pikachu" alt="Under Construction" />
    <div id="pikachu-counter" class="pikachu-counter"></div>
    <div class="bottom-flex-container">
      <div class="bottom-left">
        <h3>Lorem Ipsum Left</h3>
        <p id="github-events">Loading recent GitHub activity...</p>
      </div>
      <div class="bottom-right">
        <h3>Lorem Ipsum Right</h3>
        <p>
          Vestibulum ante ipsum primis in faucibus orci luctus et ultrices
          posuere cubilia curae; Integer nec odio. Praesent libero. Sed cursus
          ante dapibus diam.
        </p>
      </div>
    </div>
    <script>
      // Pikachu construction start date: August 22, 2025
      const startDate = new Date("2025-08-22T00:00:00Z");
      const today = new Date();
      // Calculate difference in days
      const diffTime = today - startDate;
      const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
      document.getElementById(
        "pikachu-counter"
      ).textContent = `pikachu has been working on this website for ${diffDays} day${
        diffDays === 1 ? "" : "s"
      }!`;

      // Fetch and display GitHub activity from data.json
      fetch("public/data.json")
        .then((res) => res.json())
        .then((data) => {
          const container = document.getElementById("github-events");
          if (!Array.isArray(data) || data.length === 0) {
            container.textContent = "No recent GitHub activity.";
            return;
          }
          container.innerHTML =
            '<ul style="padding-left: 1.2em; margin: 0;">' +
            data
              .slice(0, 5)
              .map(
                (event) =>
                  `<li><b>${event.type.replace("Event", "")}</b> on <code>${
                    event.repo
                  }</code><br><small>${new Date(
                    event.created_at
                  ).toLocaleString()}</small></li>`
              )
              .join("") +
            "</ul>";
        })
        .catch(() => {
          document.getElementById("github-events").textContent =
            "Could not load GitHub activity.";
        });
    </script>
  </body>
</html>
